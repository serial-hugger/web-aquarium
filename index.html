<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Webquarium</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico">
	</head>
<body>
<style>
body {
  background-image: url('pebblebg.png'),url('sandbg.png');
  background-repeat: no-repeat,repeat;
  background-attachment: fixed;
  background-position: center;
  background-size: 1200px 1000px,20% 20%;
}
.aquariumlist {
  margin: auto;
  width: 1025px;
  height:123px;
  display: flex; 
  overflow-x: scroll;
  overflow-y: none;
  border:1px solid #5e5e5e;
  background: #000000;
}
.menubanner {
  margin: auto;
  width: 1027px;
  height:90px;
  display: flex; 
  overflow-x: none;
  overflow-y: none;
  background-image: url('sandbg.png');
  background-size: 100px 100px,20% 20%;
}
.img-with-text {
    text-align: center;
    width: 60;
	font-size: 10px;
}

.img-with-text img {
    display: block;
}
img:hover {
    cursor: pointer;
}
</style>
<div class = "container" id="container">
	<canvas id = "selectedaquarium" width = 1023 height = 511.5 style = "border:2px solid #5e5e5e;margin:auto auto auto auto;display: flex;z-index:0"></canvas>
</div>
<div class="menubanner" id = "menu"></div>
<div class="aquariumlist" id = "aquariums"></div>
<script src="scripts/items.js"></script> 
<script src="scripts/interaction.js"></script> 
<script src="scripts/tanks.js"></script>
<script src="scripts/update.js"></script> 
<script>


function GetItemAtPos(decorArr,canvas,relSize,xOffset,yOffset,topSand){
	var currentSel = -1;
	for(var i = 0;i<decorArr.length;i++){
		if(tankItems[decorArr[i].id].type=="decor"){
			var x = decorArr[i].x;
			var y = decorArr[i].y;
			var z = decorArr[i].z;
			var id = decorArr[i].id;
			var size = decorArr[i].size;
			var flip = decorArr[i].flip;
			var imgSlot = GetImageSlot(decorArr[i].image);
			var iWidth = (tankImgs[imgSlot].width * relSize)*(z/100+size/2);
			var iHeight = (tankImgs[imgSlot].height * relSize)*(z/100+size/2);

			var percentOfSize = iWidth / tankItems[id].width;

			var xDraw = ((canvas.width/2)  +                      ((x*1)*(1+(z*0.007)))*relSize     -        ((xOffset/5)*((50-z)*0.1))*relSize);//*(5-z/10)*relSize;
			var yDraw = canvas.height - (150*relSize)  - (y * relSize) -    ((z*0.06)*relSize)                -      (((((yOffset+500))/5)*((z-25)*0.01)*relSize)*-1)  + (z*1.8)*relSize;

			var left = (xDraw-iWidth/2) +(tankItems[id].x*percentOfSize*relSize);
			var top = (yDraw-iHeight/2)-(tankItems[id].y*percentOfSize*relSize);

			if(mouseX > left && mouseX < left + iWidth && mouseY > top && mouseY < top + iHeight){
				currentSel = i;
			}
		}
	}
	return currentSel;
}

function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
function CreateButtons(){
	document.getElementById("menu").innerHTML = '';
	var button;
	var hr;
	hr = document.createElement("hr");
	hr.innerHTML = "<hr style=\"width: 1px;></hr>";
	document.getElementById("menu").appendChild(hr);
	//CREATE DEFAULT BUTTON
	button = document.createElement("image");
	button.id = ("button1");
	button.onclick = function(){buttonDefaultMode()};
	button.innerHTML = "<div class=\"img-with-text\"><img src=ui/default.png onmouseover=this.src='ui/default_hover.png' onmouseout=this.src='ui/default.png' width=\"80px\" height=\"60px\" alt=\"INTERACT\"></img><p><b>INTERACT</b></p></div>";
	document.getElementById("menu").appendChild(button);
	//CREATE EDIT BUTTON
	button = document.createElement("image");
	button.id = ("button2");
	button.onclick = function(){buttonEditMode()};
	button.innerHTML = "<div class=\"img-with-text\"><img src=ui/edit.png onmouseover=this.src='ui/edit_hover.png' onmouseout=this.src='ui/edit.png' width=\"80px\" height=\"60px\" alt=\"EDIT\"></img><p><b>EDIT</b></p></div>";
	hr = document.createElement("hr");
	hr.innerHTML = "<hr style=\"width: 1px;></hr>";
	document.getElementById("menu").appendChild(hr);
	document.getElementById("menu").appendChild(button);
	//CREATE TANK BUTTON
	button = document.createElement("image");
	button.id = ("button3");
	button.onclick = function(){buttonTanksMode()};
	button.innerHTML = "<div class=\"img-with-text\"><img src=ui/tanks.png onmouseover=this.src='ui/tanks_hover.png' onmouseout=this.src='ui/tanks.png' width=\"80px\" height=\"60px\" alt=\"TANKS\"></img><p><b>TANKS</b></p></div>";
	hr = document.createElement("hr");
	hr.innerHTML = "<hr style=\"width: 1px;></hr>";
	document.getElementById("menu").appendChild(hr);
	document.getElementById("menu").appendChild(button);
	//CREATE SHOP BUTTON
	button = document.createElement("image");
	button.id = ("button3");
	button.onclick = function(){buttonTanksMode()};
	button.innerHTML = "<div class=\"img-with-text\"><img src=ui/shop.png onmouseover=this.src='ui/shop_hover.png' onmouseout=this.src='ui/shop.png' width=\"80px\" height=\"60px\" alt=\"SHOP\"></img><p><b>SHOP</b></p></div>";
	hr = document.createElement("hr");
	hr.innerHTML = "<hr style=\"width: 1px;></hr>";
	document.getElementById("menu").appendChild(hr);
	document.getElementById("menu").appendChild(button);

	//LAST HR
	hr = document.createElement("hr");
	hr.innerHTML = "<hr style=\"width: 1px;></hr>";
	document.getElementById("menu").appendChild(hr);
}
function buttonDefaultMode(){
	CreateButtons();
}
function buttonEditMode(){
	CreateButtons();
}
function buttonTanksMode(){
	CreateButtons();
}
function buttonShopMode(){
	CreateButtons();
}
</script>
</body>
</html>
